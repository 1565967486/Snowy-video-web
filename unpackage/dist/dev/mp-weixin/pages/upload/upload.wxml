<view><cu-custom vue-id="1" bgColor="bg-gradual-blue" isBack="true" bind:__l="__l" vue-slots="{{['backText','content']}}"><view slot="backText">返回</view><view slot="content">上传作品</view></cu-custom><view class="{{['load-progress',loadingTime!=0?'show':'hide']}}" style="{{'top:'+(CustomBar+'px')+';'}}"><view class="load-progress-bar bg-green" style="{{'transform:'+('translate3d(-'+(100-loadingTime)+'%, 0px, 0px)')+';'}}"></view><view class="load-progress-spinner text-green"></view></view><block wx:if="{{basics===0}}"><view><view class="select-box"><view data-event-opts="{{[['tap',[['selectVideo',['$event']]]]]}}" class="{{[isSelectVideo?'text-blue':'text-gray','select-music','bg-white','cu-btn']}}" bindtap="__e"><view class="cuIcon-pick select-music-icon"></view>{{''+(isSelectVideo?'重新上传':'上传视频')+''}}</view></view><block wx:if="{{isSelectVideo}}"><view class="info-box"><view class="cu-form-group"><text class="cuIcon-title text-blue"></text><view class="title">作品描述：</view><input style="text-align:left;margin-left:-18rpx;" name="input" data-event-opts="{{[['input',[['__set_model',['','description','$event',[]]]]]]}}" value="{{description}}" bindinput="__e"/><text class="cuIcon-info text-orange"></text></view><view class="cu-bar bg-white"><view class="action"><text class="cuIcon-title text-blue"></text><text class="title">{{"作品时长： "+duration+" 秒"}}</text></view></view><view class="cu-bar bg-white"><view class="action"><text class="cuIcon-title text-blue"></text><text class="title">自定义作品封面：</text></view><view class="action"><text data-event-opts="{{[['tap',[['toSetCoverImage',['$event']]]]]}}" class="{{[isSetCoverImage?'cuIcon-move':'cuIcon-add','text-orange']}}" bindtap="__e"></text></view></view><image hidden="{{!(isSetCoverImage)}}" class="cover-image" src="{{tempCoverUrl}}" data-event-opts="{{[['tap',[['setCoverImage',['$event']]]]]}}" bindtap="__e"></image><view class="cu-bar btn-group padding"><button data-event-opts="{{[['tap',[['handleNext',['$event']]]]]}}" class="cu-btn bg-gradual-blue shadow-blur round" bindtap="__e">下一步</button></view></view></block></view></block><block wx:if="{{basics===1}}"><view><view class="select-box"><view data-event-opts="{{[['tap',[['openSelectModel',['$event']]]]]}}" class="{{[isSelectBgm?'text-blue':'text-gray','select-music','bg-white','cu-btn']}}" bindtap="__e"><view class="cuIcon-evaluate select-music-icon"></view>{{''+(isSelectBgm?'重新选择':'选择音乐')+''}}</view></view><view class="info-box"><view class="cu-bar bg-white"><view class="action"><text class="cuIcon-title text-blue"></text><text>{{"歌曲名称： "+(bgmName?bgmName:'暂未选择歌曲')}}</text></view></view><view class="cu-bar bg-white"><view class="action"><text class="cuIcon-title text-blue"></text><text>{{"歌曲作者： "+(bgmAuthor?bgmAuthor:'暂未选择歌曲')}}</text></view></view><view class="cu-bar bg-white"><view class="action"><text class="cuIcon-title text-blue"></text><text>{{"歌曲试听： "+(bgmSrc?'':'暂未选择歌曲')}}</text></view></view><block wx:if="{{isSelectBgm}}"><audio class="audio" poster="{{bgmCover}}" name="{{bgmName}}" author="{{bgmAuthor}}" src="{{bgmSrc}}" id="myAudio" controls loop object-fit="cover"></audio></block><view class="cu-bar btn-group padding"><button data-event-opts="{{[['tap',[['handleNext',['$event']]]]]}}" class="cu-btn bg-gradual-blue shadow-blur round" bindtap="__e">上传作品</button></view></view><view data-event-opts="{{[['tap',[['hideSelectModel',['$event']]]]]}}" class="{{['cu-modal drawer-modal justify-start',isShowSelectModel?'show':'']}}" bindtap="__e"><view data-event-opts="{{[['tap',[['',['$event']]]]]}}" class="cu-dialog basis-lg" style="{{'top:'+(CustomBar+'px')+';'+('height:'+('calc(100vh - '+CustomBar+'px)')+';')}}" catchtap="__e"><view class="cu-list menu text-left"><block wx:for="{{bgmList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['checkBgm',['$0'],[[['bgmList','',index,'id']]]]]]]}}" class="cu-item arrow" bindtap="__e"><view class="content bgm-item"><view class="{{[(bgmId===item.id)?'text-blue':'']}}">{{item.name+''}}<text class="bgm-author">{{item.author}}</text></view></view></view></block><view data-event-opts="{{[['tap',[['checkBgm']]]]}}" class="cu-item" style="background-color:#8799a3;color:#ffffff;" bindtap="__e"><view class="content" style="text-align:center;">不选择背景音乐</view></view></view></view></view></view></block><block wx:if="{{basics===2}}"><view><view class="container"><image class="image" src="{{[isUpload?'../../static/images/avatar.jpg':'../../static/images/avatar2.jpg']}}" mode></image><view class="content">{{''+(isUpload?'作品上传成功!':'作品上传失败...')+''}}<view data-event-opts="{{[['tap',[['handleBack',['$event']]]]]}}" class="text-blue" style="line-height:100rpx;font-size:24rpx;" bindtap="__e"><text>快到首页看看叭(´◔ω◔)</text></view></view></view></view></block><view class="bg-white padding step"><view class="cu-steps"><block wx:for="{{basicsList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['changeStep',[index]]]]]}}" class="{{['cu-item',index>basics?'':'text-blue']}}" bindtap="__e"><text class="{{['cuIcon-'+item.cuIcon]}}"></text>{{''+item.name+''}}</view></block></view></view></view>